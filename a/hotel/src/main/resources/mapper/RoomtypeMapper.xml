<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ateam05.hotel.mapper.RoomtypeMapper">

    <!-- 通用查询映射结果 -->
    <resultMap id="BaseResultMap" type="com.ateam05.hotel.model.domain.Roomtype">
        <id column="id" property="id" />
        <result column="roomtype_name" property="roomtypeName" />
        <result column="bedtype" property="bedtype" />
        <result column="breakfast" property="breakfast" />
        <result column="area" property="area" />
        <result column="max" property="max" />
        <result column="price" property="price" />
        <result column="photo" property="photo" />
        <result column="service" property="service" />
        <result column="amount" property="amount" />
        <result column="hotelid" property="hotelId" />
        <result column="beddetail" property="bedDetail" />
    </resultMap>

    <!-- 根据条件搜索房型 -->
    <select id="find" resultType="com.ateam05.hotel.model.domain.Roomtype">
        select *
        from roomtype
        <where>
            <if test="hotelId != null and hotelId != ''">
                and hotelid = #{hotelId}
            </if>
            <if test="bedtype != null and bedtype !=''">
                and bedtype = #{bedtype}
            </if>
            <if test="maxPrice != null and maxPrice !=''">
                and price &lt;= #{maxPrice}
            </if>
            <if test="maxPrice != null and maxPrice !=''">
                and price >= #{minPrice}
            </if>
        </where>
    </select>

</mapper>
